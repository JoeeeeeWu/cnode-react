webpackJsonp([2,7],{323:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(213),f=n(324),d=a(f),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){return s.default.createElement("p",{className:d.default.warn},"您还没登录，",s.default.createElement(c.Link,{to:"/login"},"点击登录"),"！")}}]),t}(u.Component);t.default=p},324:function(e,t,n){var a=n(325);"string"==typeof a&&(a=[[e.id,a,""]]);n(271)(a,{});a.locals&&(e.exports=a.locals)},325:function(e,t,n){t=e.exports=n(270)(),t.push([e.id,".LoginWarn__warn-3cBJX{text-align:center;padding-top:.5rem;padding-bottom:.5rem}",""]),t.locals={warn:"LoginWarn__warn-3cBJX"}},326:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(327),f=a(c),d=n(284),p=a(d),m=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.left,a=e.right,r=e.leftClick,o=e.rightClick,l=n?"btnActive":null,i=a?"btnActive":null;return s.default.createElement(p.default,{transitionName:"down",transitionAppear:!0,transitionAppearTimeout:200,transitionEnterTimeout:200,transitionLeaveTimeout:200},s.default.createElement("header",{className:f.default.header,key:"header"},s.default.createElement("div",{className:f.default.left+" "+f.default[l],onClick:r},n),s.default.createElement("h2",{className:f.default.title},t),s.default.createElement("div",{className:f.default.right+" "+f.default[i],onClick:o},a)))}}]),t}(u.Component);t.default=m},327:function(e,t,n){var a=n(328);"string"==typeof a&&(a=[[e.id,a,""]]);n(271)(a,{});a.locals&&(e.exports=a.locals)},328:function(e,t,n){t=e.exports=n(270)(),t.push([e.id,".header__header-P1JXb{height:.4rem;line-height:.4rem;background-color:#383b45;color:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;text-align:center}.header__header-P1JXb .iconfont{color:#383b45}.header__left-1LJ0R,.header__right-OV-TJ{width:.4rem;height:.4rem;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto}.header__btnActive-1M7qR{background-color:#66b32f}.header__title-2UExb{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}",""]),t.locals={header:"header__header-P1JXb",left:"header__left-1LJ0R",right:"header__right-OV-TJ",btnActive:"header__btnActive-1M7qR",title:"header__title-2UExb"}},334:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=n(1),s=a(u),c=n(323),f=a(c),d=n(326),p=a(d),m=n(335),h=a(m),_=n(339),b=a(_),g=n(267),y=a(g),v=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),i(t,[{key:"render",value:function(){var e=localStorage.getItem("accesstoken");return s.default.createElement("div",null,s.default.createElement("div",{className:b.default.headerContainer},s.default.createElement(p.default,{title:"消息"})),s.default.createElement("div",{className:b.default.content},e?s.default.createElement(h.default,null):s.default.createElement(f.default,null)),s.default.createElement(y.default,{index:"2"}))}}]),t}(u.Component);t.default=v},335:function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),c=r(s),f=n(166),d=n(213),p=n(336),m=r(p),h=n(338),_=a(h),b=n(279),g=a(b),y=n(281),v=r(y),w=n(284),k=r(w),E=function(e){function t(e){o(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={hasNotClass:"active",hasClass:null,listData:[]},n.handleClickHasNot=n.handleClickHasNot.bind(n),n.handleClickHas=n.handleClickHas.bind(n),n}return i(t,e),u(t,[{key:"handleClickHasNot",value:function(){var e=this.props.msgData.hasnot_read_messages;this.setState({hasNotClass:"active",hasClass:null,listData:e})}},{key:"handleClickHas",value:function(){var e=this.props.msgData.has_read_messages;this.setState({hasNotClass:null,hasClass:"active",listData:e})}},{key:"componentWillMount",value:function(){var e=this.props.renderMsg,t=localStorage.getItem("accesstoken");e(t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.msgData.hasnot_read_messages;this.setState({listData:t})}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement("ul",{className:m.default.menu},c.default.createElement("li",{className:m.default[this.state.hasNotClass],onClick:this.handleClickHasNot},"未读消息"),c.default.createElement("li",{className:m.default[this.state.hasClass],onClick:this.handleClickHas},"已读消息")),c.default.createElement("ul",null,c.default.createElement(k.default,{transitionName:"fade-slide",transitionEnterTimeout:300,transitionLeaveTimeout:300},0===this.state.listData.length?c.default.createElement(v.default,{msg:"暂无消息！"}):this.state.listData.map(function(e,t){var n=e.type,a=e.author.loginname,r=e.topic,o=r.id,l=r.title,i=e.reply,u=(i.content,i.create_at);return c.default.createElement("li",{key:t,className:m.default.msgItem},c.default.createElement(d.Link,{to:"/topic/"+o},c.default.createElement("p",null,a,"在话题",l,"中","at"==n?"@":"回复","了你"),c.default.createElement("p",{className:m.default.time},"——",g.formatTime(u))))}))))}}]),t}(s.Component),x=function(e){return{renderMsg:function(t){e(_.fetchMsg(t))}}},O=function(e){return{msgData:e.msgState.msgData}};t.default=(0,f.connect)(O,x)(E)},336:function(e,t,n){var a=n(337);"string"==typeof a&&(a=[[e.id,a,""]]);n(271)(a,{});a.locals&&(e.exports=a.locals)},337:function(e,t,n){t=e.exports=n(270)(),t.push([e.id,".msgDetail__menu-3i7yo{display:-webkit-box;display:-ms-flexbox;display:flex;text-align:center;line-height:.4rem;font-size:.14rem;background-color:#999}.msgDetail__menu-3i7yo li{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;color:#fff}.msgDetail__menu-3i7yo li.msgDetail__active-3stlJ{background-color:#66b32f;color:#383b45}.msgDetail__msgItem-QA0SU{padding:.05rem .1rem;border-bottom:1px solid #ddd}.msgDetail__msgItem-QA0SU a{color:#383b45}.msgDetail__msgItem-QA0SU p{margin-top:.05rem;margin-bottom:.05rem}.msgDetail__time-1kRMF{text-align:right}",""]),t.locals={menu:"msgDetail__menu-3i7yo",active:"msgDetail__active-3stlJ",msgItem:"msgDetail__msgItem-QA0SU",time:"msgDetail__time-1kRMF"}},338:function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){return{type:"GET_MSG",msgData:e}}function o(e,t){u.default.get(s+"messages",{params:{accesstoken:t}}).then(function(t){e(t.data.data)}).catch(function(e){console.log(e)})}function l(e){return function(t){o(function(e){t(r(e))},e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchMsg=l;var i=n(293),u=a(i),s="https://cnodejs.org/api/v1/"},339:function(e,t,n){var a=n(340);"string"==typeof a&&(a=[[e.id,a,""]]);n(271)(a,{});a.locals&&(e.exports=a.locals)},340:function(e,t,n){t=e.exports=n(270)(),t.push([e.id,".msg__content-1Ro5Z{margin-top:.4rem;margin-bottom:.5rem}.msg__headerContainer-ol4eK{width:100%;position:fixed;top:0;left:0}",""]),t.locals={content:"msg__content-1Ro5Z",headerContainer:"msg__headerContainer-ol4eK"}}});